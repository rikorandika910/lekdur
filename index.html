<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spotify Lite</title>

<style>
body{
  background:#111;
  color:white;
  font-family:Arial,sans-serif;
  margin:0;
  padding:20px;
}
h2{text-align:center;margin-bottom:15px}
.player{
  max-width:380px;
  margin:auto;
  background:#222;
  padding:18px;
  border-radius:16px;
}
#song-title{
  text-align:center;
  font-size:14px;
  margin-bottom:6px;
}
audio{width:100%}
.controls{
  display:flex;
  gap:8px;
  margin:10px 0;
}
button{
  flex:1;
  padding:12px;
  border:none;
  border-radius:10px;
  background:#333;
  color:white;
  font-size:14px;
}
button:hover{background:#1db954;color:black}
.small{font-size:12px;padding:8px}
.progress-box{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:11px;
}
input[type=range]{flex:1}
.volume{margin-top:8px}
.playlist{
  margin-top:12px;
  max-height:240px;
  overflow-y:auto;
}
.playlist li{
  list-style:none;
  padding:8px;
  border-radius:8px;
  font-size:13px;
}
.playlist li:hover{background:#333}
.playlist li.active{
  background:#1db954;
  color:black;
  font-weight:bold;
}
</style>
</head>

<body>

<h2>üéµ My Music Fav</h2>

<div class="player">
  <p id="song-title">Loading...</p>
  <audio id="audio"></audio>

  <!-- Progress -->
  <div class="progress-box">
    <span id="current">0:00</span>
    <input type="range" id="progress" value="0">
    <span id="duration">0:00</span>
  </div>

  <!-- Controls -->
  <div class="controls">
    <button onclick="prevSong()">‚èÆ</button>
    <button onclick="nextSong()">‚è≠</button>
  </div>

  <div class="controls">
    <button class="small" id="shuffleBtn" onclick="toggleShuffle()">Shuffle</button>
    <button class="small" id="repeatBtn" onclick="toggleRepeat()">Repeat</button>
  </div>

  <!-- Volume -->
  <div class="volume">
    <input type="range" min="0" max="1" step="0.01" id="volume">
  </div>

  <!-- Playlist -->
  <ul class="playlist" id="playlist"></ul>
</div>

<script>
const playlist = [
 {title:"Flatline",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Flatline.mp3"},
 {title:"Sahabat Jadi Cinta",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Sahabat Jadi Cinta.mp3"},
 {title:"Hold Me Down",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Hold Me Down.mp3"},
 {title:"Sedia Aku Sebelum Hujan - Idgitaf",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Idgitaf - Sedia Aku Sebelum Hujan (Official Lyric Video).mp3"},
 {title:"Who Knows - Daniel Caesar",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Daniel Caesar - Who Knows (Official Lyric Video) [glscfhJyZHo].mp3"},
 {title:"Multo - Cup of Joe",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Multo - Cup of Joe (Official Lyric Video).mp3"},
 {title:"Nuts",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Nuts.mp3"},
 {title:"About You - The 1975",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/The 1975 - About You (Official).mp3"},
 {title:"You Da One",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/You Da One.mp3"},
 {title:"Girl You Loud - Chris Brown",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/Chris Brown - Girl You Loud (Lyrics) ft. Tyga.mp3"},
 {title:"Best Part - H.E.R",src:"https://raw.githubusercontent.com/rikorandika910/wkw/main/H.E.R. - Best Part (Lyrics) Ft. Daniel Caesar.mp3"}
];

const audio=document.getElementById("audio");
const title=document.getElementById("song-title");
const list=document.getElementById("playlist");
const progress=document.getElementById("progress");
const current=document.getElementById("current");
const duration=document.getElementById("duration");
const volume=document.getElementById("volume");

let index=Number(localStorage.getItem("song"))||0;
let shuffle=localStorage.getItem("shuffle")==="true";
let repeat=Number(localStorage.getItem("repeat"))||0;

function loadSong(i){
 audio.src=playlist[i].src;
 title.textContent="Memutar: "+playlist[i].title;
 audio.play();
 localStorage.setItem("song",i);
 render();
}

function render(){
 list.innerHTML="";
 playlist.forEach((s,i)=>{
  const li=document.createElement("li");
  li.textContent=(i+1)+". "+s.title;
  if(i===index) li.classList.add("active");
  li.onclick=()=>{index=i;loadSong(index)};
  list.appendChild(li);
 });
 shuffleBtn.textContent="Shuffle: "+(shuffle?"ON":"OFF");
 repeatBtn.textContent=["Repeat: OFF","Repeat: ALL","Repeat: ONE"][repeat];
}

function nextSong(){
 index=shuffle?Math.floor(Math.random()*playlist.length):(index+1)%playlist.length;
 loadSong(index);
}
function prevSong(){
 index=(index-1+playlist.length)%playlist.length;
 loadSong(index);
}

function toggleShuffle(){
 shuffle=!shuffle;
 localStorage.setItem("shuffle",shuffle);
 render();
}
function toggleRepeat(){
 repeat=(repeat+1)%3;
 localStorage.setItem("repeat",repeat);
 render();
}

audio.addEventListener("timeupdate",()=>{
 progress.max=audio.duration||0;
 progress.value=audio.currentTime;
 current.textContent=format(audio.currentTime);
 duration.textContent=format(audio.duration);
});
progress.oninput=()=>audio.currentTime=progress.value;

audio.onended=()=>{repeat===2?loadSong(index):nextSong()};
audio.onerror=()=>nextSong();

volume.value=localStorage.getItem("vol")||1;
audio.volume=volume.value;
volume.oninput=()=>{
 audio.volume=volume.value;
 localStorage.setItem("vol",volume.value);
};

function format(s){
 if(!s) return "0:00";
 const m=Math.floor(s/60);
 const sec=Math.floor(s%60);
 return m+":"+(sec<10?"0":"")+sec;
}

loadSong(index);
</script>

</body>
</html>
